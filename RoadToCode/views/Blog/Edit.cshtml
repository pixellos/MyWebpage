@using RoadToCode.Module.Blog.DAL
@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<RoadToCode.Module.Blog.DAL.Post>

<link rel="stylesheet" href="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
<link href='http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="http://cdn.tinymce.com/4/tinymce.min.js"></script>
<!-- Script to wire up your TinyMCE editor -->
<title>Save Post</title>



<script type="text/javascript">
        // Initialize your tinyMCE Editor with your preferred options
        tinyMCE.init({
            // General options
            mode: "textareas",
            theme: "modern",
            browser_spellcheck: true,
            // Theme options
            plugins: "code,codesample,link,image",

            theme_advanced_buttons1: "save,newdocument,|,codesample,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect,|,codesample",
            theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
            theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
            theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|, visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
            theme_advanced_toolbar_location: "top",
            toolbar: 'undo redo | styleselect | bold italic | link image | codesample | spellchecker alignleft aligncenter alignright' ,
            theme_advance_toolbar_buttons:"codesample",
            theme_advanced_toolbar_align: "left",
            theme_advanced_statusbar_location: "bottom",
            theme_advanced_resizing: true,
            // Example content CSS (should be your site CSS)
            content_css: "css/example.css",
        });
</script>
<div class="container-fluid">
    <div class="row-fluid">
        <h1><div class="text-center">Add new Post</div></h1>
        @if (ViewBag.ValidationError != null)
        {
            <div class="alert-error">
                <p>Error! @ViewBag.ValidationError</p>
            </div>
        }

        <form class="form-horizontal" method="POST" action="~/Blog/Save">

            <div class="control-group">
                <div class="controls">
                    <textarea name="Content" data-val="true" id="Content" placeholder="Title">
                        @Html.Raw(Model.Content)
                    </textarea>
                </div>
            </div>

            <div class="control-group">
                <div class="controls">
                    Current = @Model.PostValue
                    <select id="PostValue" data-val="true" name="PostValue" aria-valuenow="@Model.PostValue">
                        @foreach (var name in Enum.GetValues(typeof(PostValue)))
                        {
                            if (name.Equals(Model.PostValue))
                            {
                                <option selected="selected" value="@name">@name</option>
                            }
                            else
                            {
                                <option value="@name">@name</option>
                            }
                        }
                    </select>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <input id="Id" name="Id" data-val="true" type="hidden" value="@Model.Id" />
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="Title">Title</label>
                <div class="controls">
                    <input type="text" data-val="true" name="Title" id="Title" value="@Html.Raw(Model.Title)" placeholder="Title">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="ImageUrl">Image Url</label>
                <div class="controls">
                    <input type="text" data-val="true" name="ImageUrl" id="ImageUrl" value="@Model.ImageUrl" placeholder="Title">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="Category">Category</label>
                <div class="controls">
                    <input type="text" data-val="true" name="Category" id="Category" value="@Model.Category" placeholder="Category">
                </div>
            </div>

    <div class="control-group">
        <div class="controls">
            <button type="submit" class="btn">
                Change
            </button>
        </div>
    </div>
    </form>

</div>
</div>